<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <title>知识问答-生态文明网</title>
    <!--图标库-->
    <link
      href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
    />
    <!--css样式-->
    <link rel="stylesheet" type="text/css" href="css/know.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <!--js样式-->
    <!-- <script src="js/carousel.js"></script>
    <script src="js/search.js"></script> -->
  </head>
  <body>
    <!-- 导航栏 -->
    <nav class="navbar">
      <div class="container">
        <!-- Logo -->
        <div class="logo-container">
          <a href="#home" class="logo-link">
            <img src="images/logo.jpg" alt="网站Logo" class="logo-img" />
          </a>
        </div>

        <!--导航链接-->
        <div class="nav-links">
          <a href="index.html" class="navbar-link">首页</a>
          <a href="news.html" class="navbar-link">实践与政策</a>
          <a href="about.html" class="navbar-link">相关知识</a>
          <a href="knowledgequiz.html" class="navbar-link active">知识问答</a>
        </div>

        <!-- 搜索框（居中） -->
        <div class="search-container">
          <form action="/search" method="GET" class="search-form">
            <input
              type="text"
              placeholder="搜索..."
              name="q"
              class="search-input"
            />
            <button type="submit" class="search-button">
              <i class="fa fa-search"></i>
            </button>
          </form>
        </div>

        <!-- 登录/注册 -->
        <div class="auth-links">
          <a href="login.html" class="auth-link">登录</a>
          <span class="divider">|</span>
          <a href="login.html" class="auth-link">注册</a>
        </div>
      </div>
    </nav>
    <!-- 主要内容区 -->
    <main class="content">
      <div class="introcontain">
        <div class="header">
          <h1>生态文明知识问答</h1>
          <p class="subtitle">
            点击下方图片探索生态领域的故事，测试你的生态知识！
          </p>
        </div>

        <div class="photocontain">
          <div class="accordion">
            <div class="accordion-item" data-index="0">
              <img
                src="images/绿色出行问题.jpg"
                alt="绿色出行问题"
                class="accordion-img"
              />
              <div class="accordion-label">绿色出行</div>
            </div>
            <div class="accordion-item" data-index="1">
              <img
                src="images/生态系统问题.jpg"
                alt="生态系统问题"
                class="accordion-img"
              />
              <div class="accordion-label">生态系统问题</div>
            </div>
            <div class="accordion-item" data-index="2">
              <img
                src="images/可持续发展问题.png"
                alt="可持续发展问题"
                class="accordion-img"
              />
              <div class="accordion-label">可持续发展</div>
            </div>
            <div class="accordion-item" data-index="3">
              <img
                src="images/垃圾分类问题.jpg"
                alt="垃圾分类问题"
                class="accordion-img"
              />
              <div class="accordion-label">垃圾分类问题</div>
            </div>
            <div class="accordion-item" data-index="4">
              <img
                src="images/节能减排问题.jpg"
                alt="节能减排问题"
                class="accordion-img"
              />
              <div class="accordion-label">节能减排问题</div>
            </div>
            <div class="accordion-item" data-index="5">
              <img
                src="images/湿地保护.jpg"
                alt="湿地保护"
                class="accordion-img"
              />
              <div class="accordion-label">湿地保护</div>
            </div>
            <div class="accordion-item" data-index="6">
              <img
                src="images/生物多样性.webp"
                alt="生物多样性"
                class="accordion-img"
              />
              <div class="accordion-label">生物多样性</div>
            </div>
            <div class="accordion-item" data-index="7">
              <img
                src="images/全球环境问题.webp"
                alt="全球环境问题"
                class="accordion-img"
              />
              <div class="accordion-label">全球环境问题</div>
            </div>
          </div>
        </div>

        <div class="qa-container" id="qaPanel">
          <div class="qa-content">
            <div class="question">
              <i class="fa fa-bullhorn"></i>
              <span id="questionText">请点击上方图片查看问题</span>
            </div>
            <div class="options" id="optionsContainer">
              <!-- 选项将通过JS动态生成 -->
            </div>
            <button class="submit-btn" id="submitBtn">提交答案</button>
            <div class="feedback" id="feedback"></div>
          </div>
        </div>

        <div class="instruction">
          <i class="fa fa-lightbulb-o"></i>
          提示：鼠标悬停在图片上可查看完整图片，点击图片可展开知识问答
        </div>
      </div>
    </main>

    <!--------------Footer--------------->
    <footer class="footer">
      <div class="footer-bottom">
        <p>姓名：蓝舒芬 | 班级：计算机23-3班 | 学号：231002618</p>
      </div>
    </footer>

    <!--js样式-->
    <!-- <script src="js/carousel.js"></script> -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const accordionItems = document.querySelectorAll(".accordion-item");
        const qaPanel = document.getElementById("qaPanel");
        const questionText = document.getElementById("questionText");
        const optionsContainer = document.getElementById("optionsContainer");
        const submitBtn = document.getElementById("submitBtn");
        const feedback = document.getElementById("feedback");

        // 当前激活的问题索引
        let activeQuizIndex = 0;

        // 选择题数据（包含问题、选项和正确答案）
        const quizData = [
          {
            question: "以下哪项属于绿色出行方式？",
            options: ["开私家车", "乘坐公共交通", "骑摩托车", "驾驶SUV"],
            correctAnswer: 1, // 选项索引（从0开始）
            explanation:
              "乘坐公共交通可以减少个人碳足迹，是典型的绿色出行方式。公共交通相比私人车辆能更高效地运送乘客，减少道路拥堵和空气污染。",
          },
          {
            question: "下列哪项不属于地球三大生态环境系统？",
            options: [
              "湿地生态系统",
              "森林生态系统",
              "草原生态系统",
              "海洋生态系统",
            ],
            correctAnswer: 2,
            explanation:
              "湿地、森林、海洋被誉为地球三大生态环境系统，被誉为“地球之肾”、“天然水库”、“物种宝库”。",
          },
          {
            question: "可持续发展的核心思想是什么？",
            options: [
              "满足当代人的需求，同时不损害后代满足其需求的能力",
              "优先发展经济，环境问题可以后期解决",
              "完全停止工业发展以保护环境",
              "只关注环境保护，不考虑经济发展",
            ],
            correctAnswer: 0,
            explanation:
              "可持续发展包括经济、生态和社会三个方面的可持续发展，旨在既满足当代人的需求，又不对后代人满足其自身需求能力构成危害",
          },
          {
            question: "下列哪种垃圾不属于可回收物？",
            options: ["干净的塑料瓶", "旧报纸", "用过的餐巾纸", "玻璃瓶"],
            correctAnswer: 2,
            explanation:
              "可回收物就是再生资源，指生活垃圾中未经污染、适宜回收循环利用的废物。",
          },
          {
            question: " 全球气候变暖的主要人为原因是什么？",
            options: [
              "地球自然气候变化周期",
              "燃烧化石燃料和森林砍伐",
              "太阳辐射增强",
              "海洋环流变化",
            ],
            correctAnswer: 1, // 选项索引（从0开始）
            explanation:
              "全球气候变暖是一种和自然有关的现象，是由于温室效应不断积累，导致地气系统吸收与发射的能量不平衡，能量不断在地气系统累积，从而导致温度上升，造成全球气候变暖。",
          },
          {
            question: "湿地被称为“地球之肾”，主要是因为湿地具有什么功能？",
            options: [
              "净化水质和降解污染物",
              "提供木材资源",
              "调节全球气温",
              "作为农田使用",
            ],
            correctAnswer: 0, // 选项索引（从0开始）
            explanation:
              "湿地具有多种生态功能：湿地是水源地，是蓄水池，能够提供水源；湿地能够降解污染；湿地是很多珍惜动物的歇息地，能够保护生物的多样性。被称为“地球之肾”是因为其具有降解污染，净化水中的染污物的作用。",
          },
          {
            question: "下列有关保护生物多样性的说法中，正确的是?",
            options: [
              "建立濒危物种的种质库可以保护生物多样性",
              "为保护生物多样性，应禁止开发利用生物资源",
              "为丰富我国的生物多样性，应引入世界各地不同的生物",
              " 可以将对人有害的鼠、蚊、蝇等动物完全消灭",
            ],
            correctAnswer: 0, // 选项索引（从0开始）
            explanation:
              "保护生物多样性并非禁止开发利用生物资源，而是合理开发利用，实现可持续发展。同时维持生态平衡。",
          },
          {
            question: "全球变暖是由下列哪个因素导致的？",
            options: ["烟尘排放", "温室气体排放", "酸雨", "水污染"],
            correctAnswer: 1, // 选项索引（从0开始）
            explanation:
              "全球气候变暖是一种和自然有关的现象，是由于温室效应不断积累，导致地气系统吸收与发射的能量不平衡，能量不断在地气系统累积，从而导致温度上升，造成全球气候变暖。",
          },
        ];

        // 点击图片事件
        accordionItems.forEach((item, index) => {
          item.addEventListener("click", function () {
            activeQuizIndex = index % quizData.length; // 保存当前激活的问题索引

            // 更新问题
            questionText.textContent = quizData[activeQuizIndex].question;

            // 生成选项
            generateOptions(quizData[activeQuizIndex]);

            // 重置反馈
            feedback.style.display = "none";

            // 切换问答面板
            qaPanel.classList.toggle("active", true);

            // 添加点击效果
            this.classList.add("active");
            setTimeout(() => {
              this.classList.remove("active");
            }, 300);
          });
        });

        // 生成选项函数
        function generateOptions(quizItem) {
          optionsContainer.innerHTML = ""; // 清空现有选项

          quizItem.options.forEach((option, index) => {
            const optionElement = document.createElement("div");
            optionElement.className = "option";

            const input = document.createElement("input");
            input.type = "radio";
            input.name = "quiz";
            input.id = `option${index}`;
            input.value = index;

            const label = document.createElement("label");
            label.htmlFor = `option${index}`;
            label.textContent = option;

            optionElement.appendChild(input);
            optionElement.appendChild(label);
            optionsContainer.appendChild(optionElement);
          });
        }

        // 提交答案事件
        submitBtn.addEventListener("click", function () {
          const selectedOption = document.querySelector(
            'input[name="quiz"]:checked'
          );

          if (!selectedOption) {
            showFeedback("请先选择一个选项！", false);
            return;
          }

          const selectedIndex = parseInt(selectedOption.value);
          const isCorrect =
            selectedIndex === quizData[activeQuizIndex].correctAnswer;

          // 显示反馈
          showFeedback(quizData[activeQuizIndex], isCorrect);
        });

        // 显示反馈函数
        function showFeedback(quizItem, isCorrect) {
          feedback.style.display = "block";

          if (isCorrect) {
            feedback.className = "feedback correct";
            feedback.innerHTML = `
        <h3><i class="fa fa-check-circle"></i> 回答正确！</h3>
        <p>${quizItem.explanation}</p>
      `;
          } else {
            feedback.className = "feedback wrong";
            feedback.innerHTML = `
        <h3><i class="fa fa-times-circle"></i> 回答错误！</h3>
        <p>正确答案: ${quizItem.options[quizItem.correctAnswer]}</p>
        <p>${quizItem.explanation}</p>
      `;
          }
        }

        // 初始随机显示一个问答
        const randomIndex = Math.floor(Math.random() * accordionItems.length);
        accordionItems[randomIndex].click(); // 触发点击事件显示随机问题
      });
    </script>
  </body>
</html>
